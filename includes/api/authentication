<h1 id="authentication">Authentication</h1>

<blockquote>
<p>To authorize your queries, you must provide you company API Token in the HTTP Headers like this :</p>
</blockquote>
<pre class="highlight ruby tab-ruby"><code><span class="n">response</span> <span class="o">=</span> <span class="no">HTTParty</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span>
              <span class="n">endpoint</span><span class="p">,</span>
              <span class="ss">body: </span><span class="n">content</span><span class="p">,</span>
              <span class="ss">headers: </span><span class="p">{</span>
                <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
                <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s2">"Token token=</span><span class="si">#{</span><span class="n">your_token</span><span class="si">}</span><span class="s2">"</span>
              <span class="p">}</span>
            <span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"&lt;endpoint&gt;"</span>
  -H <span class="s2">"Authorization: Token token=&lt;your_token&gt;"</span>
</code></pre><pre class="highlight php tab-php"><code>
<span class="cp">&lt;?php</span>
<span class="c1">// Get cURL resource
</span><span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="c1">// Set url
</span><span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="nx">endpoint</span><span class="p">);</span>

<span class="c1">// Set method
</span><span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>

<span class="c1">// Set options
</span><span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

<span class="c1">// Set headers
</span><span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
  <span class="s2">"Content-Type: application/json; charset=utf-8"</span><span class="p">,</span>
  <span class="s2">"Authorization: Token token=&lt;your_token&gt;"</span><span class="p">,</span>
 <span class="p">]</span>
<span class="p">);</span>

<span class="c1">// Send the request &amp; save response to $resp
</span><span class="nv">$resp</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nv">$resp</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">die</span><span class="p">(</span><span class="s1">'Error: "'</span> <span class="o">.</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">)</span> <span class="o">.</span> <span class="s1">'" - Code: '</span> <span class="o">.</span> <span class="nb">curl_errno</span><span class="p">(</span><span class="nv">$ch</span><span class="p">));</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">"Response HTTP Status Code : "</span> <span class="o">.</span> <span class="nb">curl_getinfo</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLINFO_HTTP_CODE</span><span class="p">);</span>
  <span class="k">echo</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">Response HTTP Body : "</span> <span class="o">.</span> <span class="nv">$resp</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Close request to clear up some resources
</span><span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<blockquote>
<p>Replace <code class="prettyprint">your_token</code> with your API key.</p>
</blockquote>

<p>We use API keys to allow access to the API.</p>

<p>You can get your API key on the <a href="http://dashboard.shoprunback.com/tokens">dashboard</a>.</p>

<p>ShopRunBack expects for the API key to be included in all API requests to the server in a header that looks like the following:</p>

<p><code class="prettyprint">Authorization: Token token=&lt;your_token&gt;</code></p>

<aside class="notice">
Your API Key is private and linked to your own account. Do not share it with anybody.
</aside>
